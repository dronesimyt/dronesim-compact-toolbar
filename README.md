# DroneSim Compact Toolbar (MSFS 2024)

Compact MSFS 2024 toolbar with a scale of 75% or 50%.

---

## Contents

- `build_toolbar_mod.ps1` — working build script
- `MSFSLayoutGenerator.exe` — regenerates `layout.json`
- `source/` — contains the source package
- `target/` — contains the build output (created by the script)

---

## For MSFS 2024 Users

### Install
1. Download the package with your desired scale factor (either 75% or 50%).
2. Extract and copy that into your `Community` folder.
3. Launch MSFS. The toolbar will be compact and the white annoying trigger line hidden.

> Keep **only one** toolbar package in Community to avoid conflicts.

### Uninstall
Delete the package folder from your `Community`.

---

## For Developers

### Folder Layout
```
source/
  dronesim-compact-toolbar/
    cookedcomps/
      {GUID}.html
      {GUID}.json
    layout.json
    manifest.json
    MSFSLayoutGenerator.exe

# target initially empty, contents will be generated by the script
target/         
  dronesim-compact-toolbar/
    cookedcomps/
      {GUID}.html
      {GUID}.json
    layout.json
    manifest.json
    MSFSLayoutGenerator.exe

build_toolbar_mod.ps1
MSFSLayoutGenerator.exe

```
### Usage
Basically, after each SimUpdate the `{GUID}` above might be regenerated. So for you - as a developer - it's impossible to guess, what the new `{GUID}` will be.
In order to make it work, you as a developer need to do some steps before running the script.

1. Locate the `cookedcomps` folder of your MSFS installation.
    In my case it's located in `C:\XboxGames\Microsoft Flight Simulator 2024\Content\Packages\fs-base-ui\cookedcomps`
2. Open _this_ folder in a text editor or even better in an IDE (e.g. VS Code)
3. Search globally for the term `name="Panel_Toolbar"`. You should only get **one result**.
4. Copy the HTML file itself (not the contents) that contains the term you just searched for. There's also a JSON file with the same file name prefix. For example: if your search gives you the filename `{915F1AD3-9A3C-4592-82AA-7EB3AF70B5FA}.html`, there is also a JSON file `{915F1AD3-9A3C-4592-82AA-7EB3AF70B5FA}.json`. Copy **both of these files** and paste them into `source/dronesim-compact-toolbar/cookedcomps`.
5. Run the script `build_toolbar_mod.ps1`. By default, the scale is set to 75%. If you wish to set it to 50% you can run the script with an argument `build_toolbar_mod.ps1 -ScalePrefix 50`
6. The script will scale down the neccessary heights and width for the toolbar. In the script output you should see the correct `GUID` you found in step 4.
7. After finishing, the target folder should contain the scaled down mod. Please take a look at the folder layout above and make sure that the contents match.
8. When done, copy the folder `dronesim-compact-toolbar` into your `Community` folder and enjoy.

